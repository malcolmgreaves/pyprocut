# {{cookiecutter.repo_name}}
[![PyPI version](https://badge.fury.io/py/{{cookiecutter.repo_name}}.svg)](https://badge.fury.io/py/{{cookiecutter.repo_name}}.svg) [![Build Status](https://travis-ci.org/{{cookiecutter.user}}/{{cookiecutter.repo_name}}.svg?branch=main)](https://travis-ci.org/{{cookiecutter.user}}/{{cookiecutter.repo_name}}) [![Coverage Status](https://coveralls.io/repos/github/{{cookiecutter.user}}/{{cookiecutter.repo_name}}/badge.svg?branch=main)](https://coveralls.io/github/{{cookiecutter.user}}/{{cookiecutter.repo_name}}?branch=main)

TODO: WRITE A VERY SHORT **SUMMARY** OF YOUR PROJECT'S **PURPOSE**.



## For Users
This section provides helpful information for individuals using this project's code in their  own project. If you need to modify this project's code, review the [for developers](#for-developers) section further in this document.


### Python Package Installation
To use this Python library in your own project, you can use `pip` to install:
```bash
pip install {{cookiecutter.repo_name}}==${VERSION}
```

If you use poetry, you may add `{{cookiecutter.repo_name}}==${VERSION}` to your 
`pyproject.toml` or do `poetry add {{cookiecutter.repo_name}}==${VERSION}`.


{%- if cookiecutter.project_type.startswith("docker_exe") or cookiecutter.project_type.startswith("ml") %}


### Docker
To use this Docker service, EXECUTE:
```bash
docker pull {{cookiecutter.repo_name}}:${VERSION}
```
{%- endif %}

**NOTE**: Here, `${VERSION}` is a stand-in for the most-recently published [Sematic Versioning 2.0](https://semver.org/) compliant release.


{%- if cookiecutter.project_type.startswith("ml") %}
### Executable Programs
This project includes several programs that aid in a Machine Learning (ML) project's lifecycle.
Included in the project's environment are the following commands:
- `download` - Downloads data necessary for training & evaluating the model.
- `format-data` - Processes and formats the downloaded data into a form that it suitable for making labeled data.
- `make-train` - Uses the formatted data to generate training and test data for the model.
- `train` - Uses the training data (and test, for held-out evaluation) and learns model parameters.
- `evaluate` - Uses the trained model and a set of testing data to evaluate model performance.
- `predict` - Use a trained model for batch prediction.
- `serve` - Launch an HTTP REST server for performing predictions using a trained model.

Note that, for this project, the associated docker image's ENTRYPOINT starts the webserver via the `serve` command. 

TODO: Customize documentation about these programs (deleting them or replacing them as desired).


{%- endif %}


## For Developers
Individuals maintaining, developing, and otherwise contributing to the repository should review 
this section for processes and conventions related to development.


### Development Setup
This project uses [`poetry`](https://python-poetry.org/) for environment and dependency management.
We recommend using [`brew`](https://brew.sh/) and [`pipx`](https://github.com/pipxproject/pipx) 
to install `poetry` system-wide in an isolated environment (`brew install pipx && pipx install poetry` 
works on OSX and Linux).

To install the project's dependencies, perform:
```bash
poetry install
```

Every command must be run within the `poetry`-managed environment.
For instance, to open a Python shell, you would execute:
```bash
poetry run python
```
Alternatively, you may activate the environment by performing `poetry shell` and directly invoke Python programs.

**NOTE**: If this is your initial set-up, do `poetry run pre-commit install` once in this project's root.


#### Testing
To run tests, execute:
```bash
poetry run pytest -v
```

#### Dev Tools
This project the following tools to ease development:

- `black` for code formatting
```bash
poetry run black .
```
 
- `flake8` for linting
```bash
poetry run flake8 \
    --max-line-length=100 \
    --ignore=E501,W293,E303,W291,W503,E203,E731,E231,E721,E722,E741 \
    .
```

- `mypy` for type checking
```bash
poetry run mypy \
    --ignore-missing-imports \
    --follow-imports=silent \
    --show-column-numbers \
    {{cookiecutter.package_name}}
```


### Testing
Use `pytest` to run all of `{{cookiecutter.repo_name}}`s tests. The following
command will run all tests,compute line coverage, and open your web browser
(on OSX) to the HTML generated by `coverage`:
```bash
poetry pytest -v && poetry coverage html && open htmlcov/index.html
```


### Style
Developers should strive for writing code that is testable and unsuprising. To this end, apply
functional programming concepts widely: define code in terms of inputs & outputs, eschew 
state mutation, and be explicit with type annotations. The imperative paradigm, however, should
be used whenever time or memory requirements make FP difficult. In these circumstances, be sure
to completely encapsulate any state mutations or side effects in such a way that, to the caller,
the end result still __appears__ to be functional and side-effect free.

On a different note, in order to remove any Python code formatting bikeshedding, this project
uses [`black`](https://github.com/ambv/black). 

Additionally, this project has been configured to run `black` as a pre-commit `git hook`.
To enable this, you must run the following command __once__ upon `git clone`ing this project:
```bash
pre-commit install
```
**NOTE**: All code in the project _must_ be formatted using `black`.


### Release
`git tag`s denote project releases. All versions confrom to [Sematic Versioning 2.0](https://semver.org/)
rules. Take a look at this project's [release documentation](docs/dev/release.md) to understand this 
process and learn how to publish a new release.
